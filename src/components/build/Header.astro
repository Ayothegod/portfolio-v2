---
import { Button } from "../ui/button";
---

<header class="flex justify-center">
  <div class="fixed inset-x-0 top-0 max-w-full mt-3 mx-4 bg-white">
    <div>
      <Button variant="destructive" id="darkModeToggle" onclick="myFunction()">enter dark mode</Button>
    </div>
  </div>
</header>

<script>
     // Define a function to set the theme preference in localStorage
     function setThemePreference(theme) {
      if (typeof localStorage !== "undefined") {
        // Add theme preference to localStorage
        localStorage.setItem("theme", theme);
      } else {
        console.error("localStorage is not supported in this browser.");
      }
    }


    // Example: Assuming you have a function to toggle themes
    function toggleTheme() {
      const currentTheme = localStorage.getItem("theme");
      const newTheme = currentTheme === "dark" ? "light" : "dark";
      // Apply the new theme
      setThemePreference(newTheme);
      // Additional logic to apply the theme to your UI
      applyTheme(newTheme);
    }


    // Function to apply the theme to your UI
    // function applyTheme(theme) {
    //   // Example: Apply the theme by toggling a CSS class on the body element
    //   document.body.classList.toggle("dark-theme", theme === "dark");
    // }


    // Example: Call setThemePreference when the user changes their theme preference
    // Assuming you have a UI element to change themes, like a button
    // const themeToggleButton = document.getElementById("theme-toggle-button");
    // themeToggleButton.addEventListener("click", toggleTheme);



  const toggleModeButton = document.getElementById("darkModeToggle");
  const html = document.querySelector("html");
  console.log(html?.classList);

  if (toggleModeButton) {
    toggleModeButton.addEventListener("click", () => {
      if(html !== null){
        html.classList.toggle("dark")
      }
    });
  }
</script>
